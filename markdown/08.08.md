
## 添加一个非样式配置选项

1. 先在 @/constants/index.js 中的 ELEMENT_CONFIG 添加相应的想选项名称, 比如 src
2. 在 @/constants/work-place/Right/ContentConfig.vue 中添加对应选项的代码, `<div v-if="configList.hasOwnProperty('src')" class="modify-item"></div>`

## 上传文件监控

首先对 easy-file-uploader-client 库的代码进行修改：

  在 easy-file-uploader-client 的 getChunkListAndFileMd5 函数中添加了两个回调函数，用来获取切片的总数量和切片的进度。
  同时也对 uploadFile 进行处理，在切片完成后，此时程序会停止，须点击上传时，才正式发送资源给服务器。

上传视频过程思考描述：

  先来明确有多少种状态：
    最开始是 **未选择**，此时还没有选择文件
    当选择文件后, 会变成 **解析中** , 此时会根据获取到的切片进度, 展示出一个进度条.
        注意: 此时不允许用户点击上传
    切片完成后, 会变成 **待上传**, 这个时候 easy-file-uploader-client 会给我们两个参数：
    一个是 res，代表开始上传；一个是 rej 代表取消上传。
        注意: 若此时用户更改文件，则要执行 rej
    当用户点击上传时，会变成 **上传中**, 这个时候会根据获取到的上传数量，展示出一个进度条。
        注意: 此时不允许用户点击上传
    成功上传完毕后，会变成 **已上传**.
    如果上传出现错误, 则要变成 **出错了**.
        当上传出现错误时, 应该要求不用再次解析的（一个大文件解析耗费时间很长）

## 重新设计切片上传逻辑

  调用时应该是这样的：

    vue 文件调用 fileUpload 函数。
    只需要给他 file 参数。
    而 fileUpload 函数应该通过回调函数的方式给 vue 一些值
    要求依次给出：
      切片总数量: 这个的计算很快, 几乎是立即的
      当前切片数量: 会耗时, 可以展示进度条
      // 此时 fileUpload 已经计算出了 md5 和 chunkList, 应该保存这两个值, 确保这两个值可以重复使用（上传失败时重新上传）
      上传函数: 只要 vue 执行这个函数, 就开始进行上传, 并且当上传失败时, 能够再次执行该函数, 实现重新上传, 重新上传时要求 md5 和 chunkList 不要重新计算
      完成初始化上传:
      已上传的切片数量:
      成功上传后的路径: 当上传成功后, 就没有必要再保存 md5 和 chunkList 了

    大部分的实现, 库以及给我们弄好了, 我们还需要添加的是 “上传函数” 和对已解析的内容缓存

## 中断解析文件过程

设置两个数字校验码, 只有当两个数字校验码一致时, 才允许解析文件.
当中断解析时, 改变其中其中一个校验码, 使其校验不通过, 此时就会中断解析文件.
当中断后, 再改变校验码, 使其校验通过。

但是这种处理方法, 有概率出现新的解析中断的情况：当 “新的” 运行的比 “旧的” 快时, 就会出现异常中断.
这种情况可以通过在 vue 中检测解析速度, 来让其重新解析.

还有一种处理方法是直接不允许解析中断, 那么就没有这些问题了. 但是我没有采用.